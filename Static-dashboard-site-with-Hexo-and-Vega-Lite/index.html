<!DOCTYPE html><html><head><meta charset="utf-8"><title>Static dashboard site with Hexo and Vega-Lite | Wilson&#39;s blog</title><link rel="stylesheet" href="../css/fonts/Chinese-normal-normal.min.css"><link rel="stylesheet" href="../css/fonts/ChineseMono-normal-normal.min.css"><link rel="stylesheet" href="../css/fonts/Chinese-italic-normal.min.css"><link rel="stylesheet" href="../css/fonts/Chinese-normal-bold.min.css"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="最近写一篇论文需要画 10 张实验数据图，我用一套祖传的 Matplotlib 脚本读取 csv 实验数据画图。这个过程有几个很痛苦的问题：

实验数据管理比较混乱，例如我可能每次批量做实验只会更新表格的一行/一列，csv 又没有注释，到后面就忘记每行是什么时候做的了
每张图的样子都不太一样，并且脚"><link rel="alternate" href="../atom.xml" title="Wilson's blog" type="application/atom+xml"><link rel="shortcut icon" href="../favicon.ico"><link rel="stylesheet" href="../css/style.css"><link rel="stylesheet" href="../fancybox/jquery.fancybox-1.3.4.css"><link rel="stylesheet" href="../katex/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous"><script defer src="../katex/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script><script defer src="../katex/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body)"></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script><meta name="generator" content="Hexo 7.3.0"></head><body><div id="container"><div id="wrap"><div id="nav-outer"><nav id="main-nav" class="outer"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/blog/">Home</a> <a class="main-nav-link" href="/blog/archives/">Archives</a> <a class="main-nav-link" href="/blog/paper_list/">Paper List</a> <a class="main-nav-link" href="/blog/about/">About</a><div class="main-nav-space-between"></div><a id="nav-rss-link" class="nav-icon" href="/blog/atom.xml" title="RSS 订阅"></a></nav></div><div id="header-title"><h1 id="logo-wrap"><a href="../index.html" id="logo">Wilson&#39;s blog</a></h1></div><div id="content" class="outer"><section id="main"><article id="post-Static-dashboard-site-with-Hexo-and-Vega-Lite" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="" class="article-date"><time class="dt-published" datetime="2025-08-02T12:56:12.000Z" itemprop="datePublished">2025-08-02</time></a></div><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">Static dashboard site with Hexo and Vega-Lite</h1></header><div class="e-content article-entry" itemprop="articleBody"><p>最近写一篇论文需要画 10 张实验数据图<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我用一套祖传的 Matplotlib 脚本读取 csv 实验数据画图<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>这个过程有几个很痛苦的问题<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span></p><ol><li>实验数据管理比较混乱<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>例如我可能每次批量做实验只会更新表格的一行/一列<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>csv 又没有注释<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>到后面就忘记每行是什么时候做的了</li><li>每张图的样子都不太一样<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>并且脚本代码高度耦合<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>所以基本上我为每张图都要维护一个脚本</li><li>我和合作者希望能在线实时共享实验数据</li></ol><p>为了解决 3<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我们日常在用飞书智能表格的仪表盘功能登记数据<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>但它的格式无法定制导致用在论文里还得重新画<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>以及没有历史记录功能<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>也就是解决不了 1 和 2<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>我尝试为这三个问题寻找成熟的解决方案<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>对于问题 1<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>直观的解决方案就是用 Git 对 csv 进行版本管理<span class="bd-box"><h-char class="bd bd-beg"><h-inner>；</h-inner></h-char></span>实际上这还有一点小问题就是 csv 的修改有时是和画图脚本绑定的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>也就是 csv 和画图脚本需要同时做版本管理<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>这就来到了问题 2<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我认为我们 csv 入图片出的流程是没有问题的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>但这个转换流程的实现不够理想<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>理想情况应该存在一个 markup language<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>描述数据到图片的映射过程<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>对这个 markup language 做版本管理就比管理画图脚本要美丽的多<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>ChatGPT 告诉了我 Vega-Lite 这个项目<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我认为它完美地做到了我需要的事<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>问题 3 解决方案就比较多了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>无非是创建一个网站<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我最熟悉的就是 Hexo 引擎<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>这一切混合在一起之后<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>就得到了一个我非常喜欢的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>有点 Unix 哲学的工具链(do one thing and do it well)<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>用 Hexo 生成静态网站<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>用 Vega-Lite 描述图片格式<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>用 Git 对源数据和图片格式做版本管理<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>而非飞书智能表格这种尝试大包大揽的臃肿工具<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>它被实现为我个人博客主题的一个<a target="_blank" rel="noopener" href="https://github.com/bill-xia/hexo-theme-mashiro/tree/vega-lite?tab=readme-ov-file#%E6%95%B0%E6%8D%AE%E5%9B%BE%E8%A1%A8">特性</a><span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>效果如下<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span></p><p><img src="/images/visdown.png" alt="visdown preview"></p></div><footer class="article-footer"></footer></div><nav id="article-nav"><a href="../Profiling/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">Profiling with Perf</div></a></nav></article></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2024 Wilson Xia<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/bill-xia/hexo-theme-mashiro" target="_blank">Mashiro</a><br></div></div></footer></div><nav id="mobile-nav"><a href="/blog/" class="mobile-nav-link">Home</a> <a href="/blog/archives/" class="mobile-nav-link">Archives</a> <a href="/blog/paper_list/" class="mobile-nav-link">Paper List</a> <a href="/blog/about/" class="mobile-nav-link">About</a></nav><script src="../js/clipboard.min.js"></script><script src="../js/jquery-1.4.3.min.js"></script><script src="../fancybox/jquery.fancybox-1.3.4.pack.js"></script><script src="../js/script.js"></script></div></body></html>