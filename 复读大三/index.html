<!DOCTYPE html><html><head><meta charset="utf-8"><title>复读大三 | Wilson&#39;s blog</title><link rel="stylesheet" href="/css/fonts/Chinese-normal-normal.min.css"><link rel="stylesheet" href="/css/fonts/ChineseMono-normal-normal.min.css"><link rel="stylesheet" href="/css/fonts/Chinese-italic-normal.min.css"><link rel="stylesheet" href="/css/fonts/Chinese-normal-bold.min.css"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="开学的时候，我感到很想完成几门早有耳闻的北美CS课程的实验：6.s081（MIT操作系统课），cs144（斯坦福计算机网络），15-213（CMU计算机系统结构），6.824（MIT分布式系统），构建一个真正 work 的系统，同时认真把它搞透。于是想到了一个命题：我大四课这么少，用来复读大三怎么样"><link rel="alternate" href=".././atom.xml" title="Wilson's blog" type="application/atom+xml"><link rel="shortcut icon" href=".././favicon.ico"><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.0.0"></head><body><div id="container"><div id="wrap"><div id="nav-outer"><nav id="main-nav" class="outer"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href=".././index.html">Home</a> <a class="main-nav-link" href=".././archives/">Archives</a> <a class="main-nav-link" href=".././about/">About</a><div class="main-nav-space-between"></div><a id="nav-rss-link" class="nav-icon" href=".././atom.xml" title="RSS 订阅"></a></nav></div><div id="header-title"><h1 id="logo-wrap"><a href=".././index.html" id="logo">Wilson&#39;s blog</a></h1></div><div id="content" class="outer"><section id="main"><article id="post-复读大三" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting"><div class="article-meta"><a href="./" class="article-date"><time class="dt-published" datetime="2022-09-12T15:41:44.000Z" itemprop="datePublished">2022-09-12</time></a></div><div class="article-inner"><header class="article-header"><h1 class="p-name article-title" itemprop="headline name">复读大三</h1></header><div class="e-content article-entry" itemprop="articleBody"><p>开学的时候<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我感到很想完成几门早有耳闻的北美CS课程的实验<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>6.s081<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>MIT操作系统课<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>cs144<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>斯坦福计算机网络<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>15-213<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>CMU计算机系统结构<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>6.824<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>MIT分布式系统<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>构建一个真正 work 的系统<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>同时认真把它搞透<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>于是想到了一个命题<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>我大四课这么少<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>用来复读大三怎么样<span class="bd-box"><h-char class="bd bd-beg"><h-inner>？</h-inner></h-char></span>如果大三可以重来<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我会做些什么呢<span class="bd-box"><h-char class="bd bd-beg"><h-inner>？</h-inner></h-char></span></p><h2 id="目标">目标</h2><p>考虑到我同时需要科研以及工作效率并不如想象中高<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>我定下了一个<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>看起来<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char></span>可行性很高<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>实现后也很有收获的目标<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>完成 6.s081<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>cs144<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>15-213 三门课程的实验<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>完成质量需要比较高<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>这里提出几点要求<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span></p><ol><li>严格按照要求完成实验<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>主要关注分数要求<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>所有通过性测试必须通过<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>跑分性测试达到较高分数线<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char></span>和任务点要求<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>如 6.s081 的<span class="bd-box"><h-char class="bd bd-end"><h-inner>“</h-inner></h-char></span>两个功能选择一个实现<span class="bd-box"><h-char class="bd bd-beg"><h-inner>”</h-inner></h-char></span>不能不选<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char></span></li><li>清楚明白地了解自己在做什么<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>不能做完实验还感到有哪里含糊<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>不清楚<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>如果有疑问<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>至少需要具体地列出来<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>并在能力范围内尝试解决</li></ol><p>更高的要求包括<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>阅读源码<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>从零复现系统<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>不做硬性要求<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>视前几周的精力情况决定要不要做6.824<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>第二周需要先尝试起来<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>把 Raft 的论文读起来<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><h2 id="计划">计划</h2><p>目前的计划<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>每周每门课一个lab<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>除 6.824 外<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>第一周已经做完了 cs144 Lab0-2<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>6.s081 Lab0<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>15-213 bomb lab(4/6)<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>data lab以前做过<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>不再重做<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>6.828 lab1 是以前做过的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>按照第一周的进度来看<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>这个计划还是很有希望按期执行的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>不过预测后期难度会增加<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>尤其是 OS…如果出现这种情况<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>可以2周/1.5周一个lab<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>如果计划理想进行<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>到了中后期 cs144 就做完了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>可以投入更多精力做 6.824<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>注意到这里没有编译原理<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>有点尴尬…其实我是很想手搓编译器的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>而且不想用 yacc/bison<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>除开科研可能需要的编译知识之外<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>它的优先级可能和分布式系统相同<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>暂时先不列入计划<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>执行一段时间上面的计划再重新考量<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>这个重新考量不晚于第三周周末<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>本文每周一更新<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><hr><h2 id="进度记录">进度记录</h2><h3 id="20229.20">2022.9.20</h3><p>这周突然特别想手搓OS<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>所以进度甚至比预想的还慢…cs144和6.s081推进了一个实验没有问题<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>但是csapp没有做<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>这周目标和上周一样<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>其中csapp的目标是做完bomb lab并再做一个<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>不过手搓OS进度还挺好的<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>快要进入用户态了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><h3 id="202212.18">2022.12.18</h3><p>成功地复刻了之前的每个学期都没能坚持学完网课的历史…好在这学期不是一事无成<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>这里来总结一下<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>手搓 OS 在虚拟机里已经跑得很不错了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>有了用户态<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>多进程<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>系统调用<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>文件系统<span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span>终端<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>下一步工作包括文件系统的写出<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>多核调度与内核锁<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>搭建测试框架<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>尝试了 USB 驱动<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>但是比较困难<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>暂时放下<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>bomb lab 做完了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>但也就止步于此<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>其他 lab 没做<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>6.824 lab 2B 今天刚刚做完<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>通过了 200 轮测试<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>感觉神清气爽啊<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p><p>科研方面在做一个DSL<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>DSL编译后会生成一套网络协议栈的源码<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>已经在实现<span class="bd-box"><h-char class="bd bd-end"><h-inner>“</h-inner></h-char></span>编译后<span class="bd-box"><h-char class="bd bd-beg"><h-inner>”</h-inner></h-char></span>的系统原型了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>目前只差定时器和拥塞控制了<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>通过阅读 RFC<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>对 TCP 的理解比大三上课时高了不少<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span></p></div><footer class="article-footer"></footer></div><nav id="article-nav"><a href=".././6-824-Lab2B-Raft/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">6.824 Lab2B Raft</div></a><a href=".././6-824-Lab1-MapReduce/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">6.824 Lab1 MapReduce</div></a></nav></article></section></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2022 Wilson Xia<br>Powered by <a href="https://hexo.io/" target="_blank">Hexo</a><br></div></div></footer></div><nav id="mobile-nav"><a href=".././index.html" class="mobile-nav-link">Home</a> <a href=".././archives/" class="mobile-nav-link">Archives</a> <a href=".././about/" class="mobile-nav-link">About</a></nav><script src=".././js/clipboard.min.js"></script><script src=".././js/jquery-1.4.3.min.js"></script><script src=".././fancybox/jquery.fancybox-1.3.4.pack.js"></script><script src=".././js/script.js"></script><link rel="stylesheet" href="/fancybox/jquery.fancybox-1.3.4.css" media="none" onload='"all"!=media&&(media="all")'><link rel="stylesheet" href="/katex/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous" media="none" onload='"all"!=media&&(media="all")'><script defer src="/katex/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script><script defer src="/katex/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous" onload="renderMathInElement(document.body)"></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],throwOnError:!1})})</script></div></body></html>